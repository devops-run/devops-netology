# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Задача 1
---
Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде - NoSQL, Документо-ориентированные. Идеально подойдёт  Redis. (это нереляционная резидентная СУБД с открытым исходным кодом, быстрое хранилище данных в виде пар "ключ — значение", без логической структуры.     
        
- Склады и автомобильные дороги для логистической компании - Графовые БД. Основными элементами модели являются узлы и связи.      
   
- Генеалогические деревья - Иерархические БД. Сруктура данных в виде дерева (Род, по сути, есть древо с корнями, ветвями)       
       
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - БД для in-memory вычислений. Redis и Tarantool. (скорость, не нужно долговременное хранение)

- Отношения клиент-покупка для интернет-магазина - реляционные базы, PjstgreSQL, MySQL, Oracle. Возможно объектно-ориентированные БД, но примеров не знаю.                     


## Задача 2
---
Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
```
CA (CAP)
PC-EL (PACELC)
```
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
```
AP (CAP)
EL-PA (PACELC)
```
- Система может не прислать корректный ответ или сбросить соединение
```
CP (CAP)
PA-EC (PACELC)
```

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?       
---
Принцыпы BASE и ACID сочетаться не могут.       
ACID - надёжные системы с гарантией применения успешных транзакций.      
BASE - в ответе могут быть неверные данные.     
Для одной системы это противоречия.            

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

---
Это Redis. Key-value data storage.       
Минусы Redis:
- Отсутствует разграничение прав доступа по пользователям.
- Cложности при работе с большими объемами данных, в частности объем данных не должен превышать объем свободного ОЗУ сервера, иначе работа замедлится. 
- Есть риск не сохранения данных. 
- Так как это нереляционная база данных, язык запросов SQL здесь не работает. В качестве альтернативы используют Lua-скрипты. Это требует от разработчиков дополнительного обучения.    
- Redis не масштабируется. Он работает только на одном ядре процессора в однопоточном режиме. Для увеличения производительности требуются доп. экземпляры и кластер.
- Cложности с настройкой кластера и шардингом.





